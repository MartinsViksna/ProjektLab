<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static', filename='dashstyle.css') }}">
    <title>Edit Packages</title>
</head>
<body>
    
    <form method="POST" action="{{ url_for('edit_packages') }}">
        <label for="disproute">Select Route: </label>
            <select name="disproute" required>
                <option value="" disabled selected>Select a route</option>
                {% for disproute in disproutes %}
                    <option value="{{ disproute }}">{{ disproute }}</option>
                {% endfor %}
            </select><br><br>
        <button type="submit">Display Packages</button> <br><br>
    </form>


    {% if created_routes %}
        <table border="1">
            <thead>
                <tr>
                    <th>Package ID</th>
                    <th>Client</th>
                    <th>Address</th>
                    <th>Time From</th>
                    <th>Time To</th>
                    <th>Route</th>
                </tr>
            </thead>
            <tbody>
                {% for route in created_routes %}
                <tr>
                    <td>{{ route.package_id }}</td>
                    <td>{{ route.client }}</td>
                    <td>{{ route.address }}</td>
                    <td>{{ route.time_from }}</td>
                    <td>{{ route.time_to }}</td>
                    <td>{{ route.route }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No routes available for the selected route.</p>
    {% endif %}
    <br><br>

    <form action="{{ url_for('add_package') }}" method="POST">
        <label>PACKAGE ID : CLIENT :  ADDRESS: TIME FROM : TIME TO : ROUTE NAME : </label><br><br>
        <input type="text" name="package_id">
        <input type="text" name="client">
        <input type="text" name="address">
        <input type="text" name="time_from">
        <input type="text" name="time_to">
        <input type="text" name="route"><br><br>
        <button type="submit">ADD Package</button><br><br>
    </form> 

    <form method="POST" action="{{ url_for('remove_package') }}">
        <input type="hidden" name="route_id" value="{{last_selected_route}}">
        <label for="disp_package">Select Package: </label>
            <select name="disp_package" required>
                <option value="" disabled selected>Select a Package</option>
                {% for disp_package in disp_package_id %}
                    <option value="{{ disp_package }}">{{ disp_package }}</option>
                {% endfor %}
            </select><br><br>
        <button type="submit">Delete Package</button> <br><br>
    </form>

    <form method="POST" action="{{ url_for('update_package') }}">
        <input type="hidden" name="route_id" value="{{last_selected_route}}">
        <label for="disp_package">Select Package: </label>
            <select name="disp_package" required>
                <option value="" disabled selected>Select a Package</option>
                {% for disp_package in disp_package_id %}
                    <option value="{{ disp_package }}">{{ disp_package }}</option>
                {% endfor %}
            </select><br><br>
        <label> CLIENT :  ADDRESS: TIME FROM : TIME TO : ROUTE NAME : </label><br><br>
        <input type="text" name="client">
        <input type="text" name="address">
        <input type="text" name="time_from">
        <input type="text" name="time_to">
        <input type="text" name="route"><br><br>
        <button type="submit">Update Package</button> <br><br>
    </form>

    <form action="{{ url_for('dashboard') }}" method="GET">
        <button type="submit">Dashboard</button>
    </form>
    <br><br>
    <!-- Logout button -->
    <form action="{{ url_for('logout') }}" method="POST">
        <button type="submit">Logout</button>
    </form>

    
</body>
</html>